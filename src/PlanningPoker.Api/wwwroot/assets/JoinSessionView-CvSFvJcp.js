import{f as C,k as h,j as i,c as d,a as s,g as k,h as S,b as N,i as c,v as m,t as p,w as _,r as V,e as B,u as J,o as f}from"./index-BprJ669h.js";import{u as U,a as j}from"./sessionStore-C5IN-seR.js";const E={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4"},D={class:"max-w-md w-full"},M={class:"bg-white rounded-lg shadow-xl p-8"},q={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},A=["disabled"],H=C({__name:"JoinSessionView",props:{code:{}},setup(b){const u=b,v=J(),g=j(),x=U(),o=i(""),r=i(""),n=i(!1),a=i(null);h(()=>{u.code&&(o.value=u.code.toUpperCase())});async function y(){if(!(!o.value.trim()||!r.value.trim())){n.value=!0,a.value=null;try{const t=o.value.trim().toUpperCase(),e=await g.joinSession(t,r.value.trim());x.setCurrentUser(e),v.push(`/session/${t}`)}catch(t){a.value=t instanceof Error?t.message:"Failed to join session"}finally{n.value=!1}}}return(t,e)=>{const w=V("router-link");return f(),d("div",E,[s("div",D,[s("div",M,[e[5]||(e[5]=s("div",{class:"text-center mb-6"},[s("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},"Join Session"),s("p",{class:"text-gray-600"},"Enter session code and your name")],-1)),s("form",{onSubmit:k(y,["prevent"]),class:"space-y-6"},[s("div",null,[e[2]||(e[2]=s("label",{for:"sessionCode",class:"block text-sm font-medium text-gray-700 mb-2"}," Session Code ",-1)),c(s("input",{id:"sessionCode","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),type:"text",required:"",placeholder:"e.g., ABCD1234",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent uppercase"},null,512),[[m,o.value]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"userName",class:"block text-sm font-medium text-gray-700 mb-2"}," Your Name ",-1)),c(s("input",{id:"userName","onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),type:"text",required:"",placeholder:"Enter your name",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},null,512),[[m,r.value]])]),a.value?(f(),d("div",q,p(a.value),1)):S("",!0),s("button",{type:"submit",disabled:n.value||!o.value.trim()||!r.value.trim(),class:"w-full bg-primary hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},p(n.value?"Joining...":"Join Session"),9,A),N(w,{to:"/",class:"block text-center text-gray-600 hover:text-gray-800 transition duration-200"},{default:_(()=>[...e[4]||(e[4]=[B(" Back to Home ",-1)])]),_:1})],32)])])])}}});export{H as default};
