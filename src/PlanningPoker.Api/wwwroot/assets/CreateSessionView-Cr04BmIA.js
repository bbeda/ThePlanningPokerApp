import{f as v,c as d,a as t,g,h as x,b as y,i as w,v as _,j as i,t as u,w as h,r as C,u as S,o as c,e as k}from"./index-BprJ669h.js";import{u as N,a as V}from"./sessionStore-C5IN-seR.js";const B={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4"},E={class:"max-w-md w-full"},j={class:"bg-white rounded-lg shadow-xl p-8"},D={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"},M=["disabled"],A=v({__name:"CreateSessionView",setup(T){const m=S(),p=V(),l=N(),o=i(""),r=i(!1),a=i(null);async function f(){if(o.value.trim()){r.value=!0,a.value=null;try{const s=await p.createSession(o.value.trim());l.setSession(s);const e=s.users.find(n=>n.isOwner);e&&l.setCurrentUser(e),m.push(`/session/${s.sessionCode}`)}catch(s){a.value=s instanceof Error?s.message:"Failed to create session"}finally{r.value=!1}}}return(s,e)=>{const n=C("router-link");return c(),d("div",B,[t("div",E,[t("div",j,[e[3]||(e[3]=t("div",{class:"text-center mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-800 mb-2"},"Create Session"),t("p",{class:"text-gray-600"},"Start a new planning poker session")],-1)),t("form",{onSubmit:g(f,["prevent"]),class:"space-y-6"},[t("div",null,[e[1]||(e[1]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Your Name ",-1)),w(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=b=>o.value=b),type:"text",required:"",placeholder:"Enter your name",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},null,512),[[_,o.value]])]),a.value?(c(),d("div",D,u(a.value),1)):x("",!0),t("button",{type:"submit",disabled:r.value||!o.value.trim(),class:"w-full bg-primary hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},u(r.value?"Creating...":"Create Session"),9,M),y(n,{to:"/",class:"block text-center text-gray-600 hover:text-gray-800 transition duration-200"},{default:h(()=>[...e[2]||(e[2]=[k(" Back to Home ",-1)])]),_:1})],32)])])])}}});export{A as default};
